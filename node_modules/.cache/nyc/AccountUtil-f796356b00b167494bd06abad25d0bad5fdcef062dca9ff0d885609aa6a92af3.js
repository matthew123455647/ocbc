function cov_ipluw1m6l(){var path="C:\\Users\\demon\\OneDrive - Temasek Polytechnic\\Desktop\\New folder\\ocbc\\utils\\AccountUtil.js";var hash="7eac39cb8023a4e800d2e66d2ec5334181722d3e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\demon\\OneDrive - Temasek Polytechnic\\Desktop\\New folder\\ocbc\\utils\\AccountUtil.js",statementMap:{"0":{start:{line:1,column:20},end:{line:1,column:48}},"1":{start:{line:2,column:11},end:{line:2,column:33}},"2":{start:{line:3,column:15},end:{line:3,column:32}},"3":{start:{line:6,column:4},end:{line:9,column:52}},"4":{start:{line:7,column:21},end:{line:7,column:56}},"5":{start:{line:8,column:8},end:{line:8,column:32}},"6":{start:{line:9,column:20},end:{line:9,column:39}},"7":{start:{line:9,column:40},end:{line:9,column:50}},"8":{start:{line:13,column:4},end:{line:19,column:52}},"9":{start:{line:14,column:27},end:{line:14,column:51}},"10":{start:{line:15,column:8},end:{line:15,column:32}},"11":{start:{line:17,column:8},end:{line:17,column:73}},"12":{start:{line:18,column:8},end:{line:18,column:26}},"13":{start:{line:19,column:20},end:{line:19,column:39}},"14":{start:{line:19,column:40},end:{line:19,column:50}},"15":{start:{line:23,column:4},end:{line:44,column:5}},"16":{start:{line:24,column:22},end:{line:24,column:36}},"17":{start:{line:25,column:25},end:{line:25,column:42}},"18":{start:{line:27,column:28},end:{line:27,column:65}},"19":{start:{line:29,column:31},end:{line:29,column:36}},"20":{start:{line:31,column:8},end:{line:35,column:9}},"21":{start:{line:31,column:21},end:{line:31,column:22}},"22":{start:{line:32,column:27},end:{line:32,column:41}},"23":{start:{line:33,column:12},end:{line:34,column:40}},"24":{start:{line:34,column:16},end:{line:34,column:40}},"25":{start:{line:37,column:8},end:{line:41,column:9}},"26":{start:{line:38,column:12},end:{line:38,column:74}},"27":{start:{line:40,column:12},end:{line:40,column:77}},"28":{start:{line:43,column:8},end:{line:43,column:64}},"29":{start:{line:50,column:4},end:{line:99,column:5}},"30":{start:{line:51,column:23},end:{line:51,column:38}},"31":{start:{line:52,column:25},end:{line:52,column:42}},"32":{start:{line:53,column:23},end:{line:53,column:38}},"33":{start:{line:54,column:21},end:{line:54,column:34}},"34":{start:{line:56,column:28},end:{line:56,column:38}},"35":{start:{line:57,column:30},end:{line:57,column:79}},"36":{start:{line:59,column:28},end:{line:59,column:65}},"37":{start:{line:61,column:26},end:{line:61,column:31}},"38":{start:{line:62,column:28},end:{line:62,column:33}},"39":{start:{line:64,column:8},end:{line:89,column:9}},"40":{start:{line:64,column:21},end:{line:64,column:22}},"41":{start:{line:65,column:27},end:{line:65,column:41}},"42":{start:{line:66,column:12},end:{line:78,column:13}},"43":{start:{line:67,column:16},end:{line:72,column:18}},"44":{start:{line:73,column:16},end:{line:73,column:73}},"45":{start:{line:74,column:16},end:{line:76,column:17}},"46":{start:{line:75,column:20},end:{line:75,column:99}},"47":{start:{line:77,column:16},end:{line:77,column:35}},"48":{start:{line:79,column:12},end:{line:88,column:13}},"49":{start:{line:80,column:16},end:{line:85,column:18}},"50":{start:{line:86,column:16},end:{line:86,column:73}},"51":{start:{line:87,column:16},end:{line:87,column:37}},"52":{start:{line:91,column:8},end:{line:96,column:9}},"53":{start:{line:92,column:12},end:{line:92,column:91}},"54":{start:{line:93,column:12},end:{line:93,column:77}},"55":{start:{line:95,column:12},end:{line:95,column:75}},"56":{start:{line:98,column:8},end:{line:98,column:64}},"57":{start:{line:103,column:0},end:{line:105,column:2}}},fnMap:{"0":{name:"readJSON",decl:{start:{line:5,column:15},end:{line:5,column:23}},loc:{start:{line:5,column:34},end:{line:10,column:1}},line:5},"1":{name:"writeJSON",decl:{start:{line:12,column:15},end:{line:12,column:24}},loc:{start:{line:12,column:43},end:{line:20,column:1}},line:12},"2":{name:"login",decl:{start:{line:22,column:15},end:{line:22,column:20}},loc:{start:{line:22,column:31},end:{line:45,column:1}},line:22},"3":{name:"transfer",decl:{start:{line:49,column:15},end:{line:49,column:23}},loc:{start:{line:49,column:35},end:{line:101,column:1}},line:49}},branchMap:{"0":{loc:{start:{line:33,column:12},end:{line:34,column:40}},type:"if",locations:[{start:{line:33,column:12},end:{line:34,column:40}},{start:{line:33,column:12},end:{line:34,column:40}}],line:33},"1":{loc:{start:{line:33,column:16},end:{line:33,column:72}},type:"binary-expr",locations:[{start:{line:33,column:16},end:{line:33,column:39}},{start:{line:33,column:43},end:{line:33,column:72}}],line:33},"2":{loc:{start:{line:37,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:41,column:9}},{start:{line:37,column:8},end:{line:41,column:9}}],line:37},"3":{loc:{start:{line:66,column:12},end:{line:78,column:13}},type:"if",locations:[{start:{line:66,column:12},end:{line:78,column:13}},{start:{line:66,column:12},end:{line:78,column:13}}],line:66},"4":{loc:{start:{line:74,column:16},end:{line:76,column:17}},type:"if",locations:[{start:{line:74,column:16},end:{line:76,column:17}},{start:{line:74,column:16},end:{line:76,column:17}}],line:74},"5":{loc:{start:{line:79,column:12},end:{line:88,column:13}},type:"if",locations:[{start:{line:79,column:12},end:{line:88,column:13}},{start:{line:79,column:12},end:{line:88,column:13}}],line:79},"6":{loc:{start:{line:91,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:91,column:8},end:{line:96,column:9}},{start:{line:91,column:8},end:{line:96,column:9}}],line:91},"7":{loc:{start:{line:91,column:12},end:{line:91,column:40}},type:"binary-expr",locations:[{start:{line:91,column:12},end:{line:91,column:23}},{start:{line:91,column:27},end:{line:91,column:40}}],line:91}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7eac39cb8023a4e800d2e66d2ec5334181722d3e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ipluw1m6l=function(){return actualCoverage;};}return actualCoverage;}cov_ipluw1m6l();const{Account}=(cov_ipluw1m6l().s[0]++,require('../models/Account'));const fs=(cov_ipluw1m6l().s[1]++,require('fs').promises);const moment=(cov_ipluw1m6l().s[2]++,require('moment'));async function readJSON(filename){cov_ipluw1m6l().f[0]++;cov_ipluw1m6l().s[3]++;try{const data=(cov_ipluw1m6l().s[4]++,await fs.readFile(filename,'utf8'));cov_ipluw1m6l().s[5]++;return JSON.parse(data);}catch(err){cov_ipluw1m6l().s[6]++;console.error(err);cov_ipluw1m6l().s[7]++;throw err;}}async function writeJSON(object,filename){cov_ipluw1m6l().f[1]++;cov_ipluw1m6l().s[8]++;try{const allObjects=(cov_ipluw1m6l().s[9]++,await readJSON(filename));cov_ipluw1m6l().s[10]++;allObjects.push(object);cov_ipluw1m6l().s[11]++;await fs.writeFile(filename,JSON.stringify(allObjects),'utf8');cov_ipluw1m6l().s[12]++;return allObjects;}catch(err){cov_ipluw1m6l().s[13]++;console.error(err);cov_ipluw1m6l().s[14]++;throw err;}}async function login(req,res){cov_ipluw1m6l().f[2]++;cov_ipluw1m6l().s[15]++;try{const email=(cov_ipluw1m6l().s[16]++,req.body.email);const password=(cov_ipluw1m6l().s[17]++,req.body.password);const allAccounts=(cov_ipluw1m6l().s[18]++,await readJSON('utils/accounts.json'));var validCredentials=(cov_ipluw1m6l().s[19]++,false);cov_ipluw1m6l().s[20]++;for(var i=(cov_ipluw1m6l().s[21]++,0);i<allAccounts.length;i++){var currUser=(cov_ipluw1m6l().s[22]++,allAccounts[i]);cov_ipluw1m6l().s[23]++;if((cov_ipluw1m6l().b[1][0]++,currUser.email==email)&&(cov_ipluw1m6l().b[1][1]++,currUser.password==password)){cov_ipluw1m6l().b[0][0]++;cov_ipluw1m6l().s[24]++;validCredentials=true;}else{cov_ipluw1m6l().b[0][1]++;}}cov_ipluw1m6l().s[25]++;if(validCredentials){cov_ipluw1m6l().b[2][0]++;cov_ipluw1m6l().s[26]++;return res.status(201).json({message:'Login successful!'});}else{cov_ipluw1m6l().b[2][1]++;cov_ipluw1m6l().s[27]++;return res.status(500).json({message:'Invalid credentials!'});}}catch(error){cov_ipluw1m6l().s[28]++;return res.status(500).json({message:error.message});}}async function transfer(req,res){cov_ipluw1m6l().f[3]++;cov_ipluw1m6l().s[29]++;try{const sender=(cov_ipluw1m6l().s[30]++,req.body.sender);const receiver=(cov_ipluw1m6l().s[31]++,req.body.receiver);const amount=(cov_ipluw1m6l().s[32]++,req.body.amount);const desc=(cov_ipluw1m6l().s[33]++,req.body.desc);const currentDate=(cov_ipluw1m6l().s[34]++,new Date());const formattedDate=(cov_ipluw1m6l().s[35]++,moment(currentDate).format('YYYY-MM-DD HH:mm:ss'));const allAccounts=(cov_ipluw1m6l().s[36]++,await readJSON('utils/accounts.json'));var senderFound=(cov_ipluw1m6l().s[37]++,false);var receiverFound=(cov_ipluw1m6l().s[38]++,false);cov_ipluw1m6l().s[39]++;for(var i=(cov_ipluw1m6l().s[40]++,0);i<allAccounts.length;i++){var currUser=(cov_ipluw1m6l().s[41]++,allAccounts[i]);cov_ipluw1m6l().s[42]++;if(currUser.email==sender){cov_ipluw1m6l().b[3][0]++;cov_ipluw1m6l().s[43]++;currUser.transactions.push({"datetime":formattedDate,"type":"W","desc":desc+" - "+receiver,"amount":parseFloat(amount)});cov_ipluw1m6l().s[44]++;currUser.balance=currUser.balance-parseFloat(amount);cov_ipluw1m6l().s[45]++;if(currUser.balance<0){cov_ipluw1m6l().b[4][0]++;cov_ipluw1m6l().s[46]++;return res.status(201).json({message:'Withdrawal amount exceeds balance!'});}else{cov_ipluw1m6l().b[4][1]++;}cov_ipluw1m6l().s[47]++;senderFound=true;}else{cov_ipluw1m6l().b[3][1]++;}cov_ipluw1m6l().s[48]++;if(currUser.email==receiver){cov_ipluw1m6l().b[5][0]++;cov_ipluw1m6l().s[49]++;currUser.transactions.push({"datetime":formattedDate,"type":"D","desc":desc+" - "+sender,"amount":parseFloat(amount)});cov_ipluw1m6l().s[50]++;currUser.balance=currUser.balance+parseFloat(amount);cov_ipluw1m6l().s[51]++;receiverFound=true;}else{cov_ipluw1m6l().b[5][1]++;}}cov_ipluw1m6l().s[52]++;if((cov_ipluw1m6l().b[7][0]++,senderFound)&&(cov_ipluw1m6l().b[7][1]++,receiverFound)){cov_ipluw1m6l().b[6][0]++;cov_ipluw1m6l().s[53]++;await fs.writeFile('utils/accounts.json',JSON.stringify(allAccounts),'utf8');cov_ipluw1m6l().s[54]++;return res.status(201).json({message:'Transfer successful!'});}else{cov_ipluw1m6l().b[6][1]++;cov_ipluw1m6l().s[55]++;return res.status(500).json({message:'Invalid operation!'});}}catch(error){cov_ipluw1m6l().s[56]++;return res.status(500).json({message:error.message});}}cov_ipluw1m6l().s[57]++;module.exports={readJSON,writeJSON,login,deposit,withdraw,balance,transfer};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfaXBsdXcxbTZsIiwiYWN0dWFsQ292ZXJhZ2UiLCJBY2NvdW50IiwicyIsInJlcXVpcmUiLCJmcyIsInByb21pc2VzIiwibW9tZW50IiwicmVhZEpTT04iLCJmaWxlbmFtZSIsImYiLCJkYXRhIiwicmVhZEZpbGUiLCJKU09OIiwicGFyc2UiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJ3cml0ZUpTT04iLCJvYmplY3QiLCJhbGxPYmplY3RzIiwicHVzaCIsIndyaXRlRmlsZSIsInN0cmluZ2lmeSIsImxvZ2luIiwicmVxIiwicmVzIiwiZW1haWwiLCJib2R5IiwicGFzc3dvcmQiLCJhbGxBY2NvdW50cyIsInZhbGlkQ3JlZGVudGlhbHMiLCJpIiwibGVuZ3RoIiwiY3VyclVzZXIiLCJiIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ0cmFuc2ZlciIsInNlbmRlciIsInJlY2VpdmVyIiwiYW1vdW50IiwiZGVzYyIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImZvcm1hdHRlZERhdGUiLCJmb3JtYXQiLCJzZW5kZXJGb3VuZCIsInJlY2VpdmVyRm91bmQiLCJ0cmFuc2FjdGlvbnMiLCJwYXJzZUZsb2F0IiwiYmFsYW5jZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZXBvc2l0Iiwid2l0aGRyYXciXSwic291cmNlcyI6WyJBY2NvdW50VXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IEFjY291bnQgfSA9IHJlcXVpcmUoJy4uL21vZGVscy9BY2NvdW50Jyk7XHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKS5wcm9taXNlcztcclxuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZWFkSlNPTihmaWxlbmFtZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoZmlsZW5hbWUsICd1dGY4Jyk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB0aHJvdyBlcnI7IH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gd3JpdGVKU09OKG9iamVjdCwgZmlsZW5hbWUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYWxsT2JqZWN0cyA9IGF3YWl0IHJlYWRKU09OKGZpbGVuYW1lKTtcclxuICAgICAgICBhbGxPYmplY3RzLnB1c2gob2JqZWN0KTtcclxuXHJcbiAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKGZpbGVuYW1lLCBKU09OLnN0cmluZ2lmeShhbGxPYmplY3RzKSwgJ3V0ZjgnKTtcclxuICAgICAgICByZXR1cm4gYWxsT2JqZWN0cztcclxuICAgIH0gY2F0Y2ggKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IHRocm93IGVycjsgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBsb2dpbihyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBlbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xyXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGFsbEFjY291bnRzID0gYXdhaXQgcmVhZEpTT04oJ3V0aWxzL2FjY291bnRzLmpzb24nKTtcclxuXHJcbiAgICAgICAgdmFyIHZhbGlkQ3JlZGVudGlhbHMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxBY2NvdW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY3VyclVzZXIgPSBhbGxBY2NvdW50c1tpXTtcclxuICAgICAgICAgICAgaWYgKGN1cnJVc2VyLmVtYWlsID09IGVtYWlsICYmIGN1cnJVc2VyLnBhc3N3b3JkID09IHBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgdmFsaWRDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmFsaWRDcmVkZW50aWFscykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBtZXNzYWdlOiAnTG9naW4gc3VjY2Vzc2Z1bCEnIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGNyZWRlbnRpYWxzIScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHRyYW5zZmVyIChyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzZW5kZXIgPSByZXEuYm9keS5zZW5kZXI7XHJcbiAgICAgICAgY29uc3QgcmVjZWl2ZXIgPSByZXEuYm9keS5yZWNlaXZlcjtcclxuICAgICAgICBjb25zdCBhbW91bnQgPSByZXEuYm9keS5hbW91bnQ7XHJcbiAgICAgICAgY29uc3QgZGVzYyA9IHJlcS5ib2R5LmRlc2M7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gbW9tZW50KGN1cnJlbnREYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWxsQWNjb3VudHMgPSBhd2FpdCByZWFkSlNPTigndXRpbHMvYWNjb3VudHMuanNvbicpO1xyXG5cclxuICAgICAgICB2YXIgc2VuZGVyRm91bmQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgcmVjZWl2ZXJGb3VuZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEFjY291bnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyVXNlciA9IGFsbEFjY291bnRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoY3VyclVzZXIuZW1haWwgPT0gc2VuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyVXNlci50cmFuc2FjdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRldGltZVwiOiBmb3JtYXR0ZWREYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIldcIixcclxuICAgICAgICAgICAgICAgICAgICBcImRlc2NcIjogZGVzYyArIFwiIC0gXCIgKyByZWNlaXZlcixcclxuICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiBwYXJzZUZsb2F0KGFtb3VudClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBjdXJyVXNlci5iYWxhbmNlID0gY3VyclVzZXIuYmFsYW5jZSAtIHBhcnNlRmxvYXQoYW1vdW50KTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyVXNlci5iYWxhbmNlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdXaXRoZHJhd2FsIGFtb3VudCBleGNlZWRzIGJhbGFuY2UhJyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbmRlckZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VyclVzZXIuZW1haWwgPT0gcmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJVc2VyLnRyYW5zYWN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImRhdGV0aW1lXCI6IGZvcm1hdHRlZERhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZGVzY1wiOiBkZXNjICsgXCIgLSBcIiArIHNlbmRlcixcclxuICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiBwYXJzZUZsb2F0KGFtb3VudClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBjdXJyVXNlci5iYWxhbmNlID0gY3VyclVzZXIuYmFsYW5jZSArIHBhcnNlRmxvYXQoYW1vdW50KTtcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVyRm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9ICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZW5kZXJGb3VuZCAmJiByZWNlaXZlckZvdW5kKSB7ICAgIFxyXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUoJ3V0aWxzL2FjY291bnRzLmpzb24nLCBKU09OLnN0cmluZ2lmeShhbGxBY2NvdW50cyksICd1dGY4Jyk7ICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdUcmFuc2ZlciBzdWNjZXNzZnVsIScgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgb3BlcmF0aW9uIScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG5cclxufVxyXG4gIFxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHJlYWRKU09OLCB3cml0ZUpTT04sIGxvZ2luLCBkZXBvc2l0LCB3aXRoZHJhdywgYmFsYW5jZSwgdHJhbnNmZXJcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiczdNQWVZO0FBQUFBLGFBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNB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